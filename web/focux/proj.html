<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focux-Project-Manager</title>
    <style>
        :root {
            --primary: #deb887;
            --primary-light: #e6ccaa;
            --primary-dark: #c69c6d;
            --text-dark: #333;
            --text-light: #fff;
            --accent: #5d4037;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --gray-light: #f5f5f5;
            --gray: #e0e0e0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--primary);
            color: var(--text-dark);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-weight: bold;
            font-size: 24px;
        }
        
        .logo i {
            margin-right: 10px;
        }
        
        .file-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            transition: background-color 0.2s;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background-color: var(--accent);
            color: white;
        }
        
        .btn-secondary {
            background-color: var(--primary-light);
            color: var(--text-dark);
            border: 1px solid var(--primary-dark);
        }
        
        .btn:hover {
            opacity: 0.9;
        }
        
        .panel {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .file-input {
            display: none;
        }
        
        .project-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .info-item {
            flex: 1;
            min-width: 200px;
        }
        
        .info-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .info-value {
            font-size: 18px;
            font-weight: bold;
        }
        
        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--gray);
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 20px;
            background-color: var(--gray);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--accent);
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .progress-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .progress-input {
            width: 80px;
            padding: 5px;
            border: 1px solid var(--gray);
            border-radius: 5px;
            text-align: center;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Members */
        .members-list {
            margin-bottom: 20px;
        }
        
        .member-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .member-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .member-info {
            flex: 1;
        }
        
        .member-name {
            font-weight: 500;
        }
        
        .member-role {
            font-size: 14px;
            color: #666;
        }
        
        .member-actions {
            display: flex;
            gap: 10px;
        }
        
        .icon-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            color: #666;
            transition: color 0.2s;
        }
        
        .icon-btn:hover {
            color: var(--accent);
        }
        
        .icon-btn.delete:hover {
            color: var(--danger);
        }
        
        /* Features */
        .features-list {
            margin-bottom: 20px;
        }
        
        .feature-item {
            padding: 15px;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .feature-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .feature-title {
            font-weight: 500;
        }
        
        .feature-desc {
            font-size: 14px;
            color: #666;
        }
        
        /* Documentation */
        .documentation {
            margin-bottom: 20px;
        }
        
        .documentation textarea {
            min-height: 200px;
            margin-top: 10px;
            font-family: monospace;
        }
        
        /* Add Forms */
        .add-form {
            margin-top: 10px;
            padding: 15px;
            background-color: var(--gray-light);
            border-radius: 5px;
            display: none;
        }
        
        .form-row {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
        }
        
        /* Modal */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }
        
        .modal {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            width: 500px;
            max-width: 90%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: bold;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 20px;
            background-color: var(--primary-dark);
            color: white;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1001;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .file-actions {
                flex-direction: column;
                gap: 5px;
            }
            
            .project-info {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-project-diagram"></i>
                <span>Focux-Project-Manager</span>
            </div>
            <div class="file-actions">
                <input type="file" id="import-file" class="file-input" accept=".json">
                <button id="import-btn" class="btn btn-secondary">
                    <i class="fas fa-file-import"></i>
                    Import Project
                </button>
                <button id="export-btn" class="btn btn-primary" disabled>
                    <i class="fas fa-file-export"></i>
                    Export Project
                </button>
                <button id="new-project-btn" class="btn btn-secondary">
                    <i class="fas fa-plus"></i>
                    New Project
                </button>
            </div>
        </header>
        
        <div id="no-project" class="panel">
            <p style="text-align: center; padding: 40px 0;">
                No project is currently open. Import a JSON project or create a new one.
            </p>
        </div>
        
        <div id="project-container" style="display: none;">
            <!-- Project Info -->
            <div class="panel">
                <div class="project-info">
                    <div class="info-item">
                        <div class="info-label">Project Name</div>
                        <input type="text" id="project-name" placeholder="Project Name">
                    </div>
                    <div class="info-item">
                        <div class="info-label">Created Date</div>
                        <div id="created-date" class="info-value">-</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Last Modified</div>
                        <div id="modified-date" class="info-value">-</div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="info-label">Progress</div>
                    <div id="progress-value" class="info-value">0%</div>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill" style="width: 0%;"></div>
                    </div>
                    <div class="progress-controls">
                        <button id="decrease-progress" class="btn btn-secondary">
                            <i class="fas fa-minus"></i>
                        </button>
                        <input type="number" id="progress-input" class="progress-input" min="0" max="100" value="0">
                        <button id="increase-progress" class="btn btn-secondary">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button id="update-progress" class="btn btn-primary">
                            <i class="fas fa-check"></i>
                            Update
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Team Members -->
            <div class="panel">
                <div class="section-title">
                    <span>Team Members</span>
                    <button id="add-member-toggle" class="btn btn-secondary">
                        <i class="fas fa-plus"></i>
                        Add Member
                    </button>
                </div>
                
                <div id="add-member-form" class="add-form">
                    <div class="form-row">
                        <label class="form-label">Name</label>
                        <input type="text" id="new-member-name" placeholder="Enter member name">
                    </div>
                    <div class="form-row">
                        <label class="form-label">Role</label>
                        <input type="text" id="new-member-role" placeholder="Enter member role">
                    </div>
                    <div class="form-actions">
                        <button id="cancel-add-member" class="btn btn-secondary">Cancel</button>
                        <button id="confirm-add-member" class="btn btn-primary">Add Member</button>
                    </div>
                </div>
                
                <div id="members-list" class="members-list">
                    <!-- Members will be added here dynamically -->
                </div>
            </div>
            
            <!-- Features -->
            <div class="panel">
                <div class="section-title">
                    <span>Features</span>
                    <button id="add-feature-toggle" class="btn btn-secondary">
                        <i class="fas fa-plus"></i>
                        Add Feature
                    </button>
                </div>
                
                <div id="add-feature-form" class="add-form">
                    <div class="form-row">
                        <label class="form-label">Feature Title</label>
                        <input type="text" id="new-feature-title" placeholder="Enter feature title">
                    </div>
                    <div class="form-row">
                        <label class="form-label">Description</label>
                        <textarea id="new-feature-desc" placeholder="Enter feature description"></textarea>
                    </div>
                    <div class="form-actions">
                        <button id="cancel-add-feature" class="btn btn-secondary">Cancel</button>
                        <button id="confirm-add-feature" class="btn btn-primary">Add Feature</button>
                    </div>
                </div>
                
                <div id="features-list" class="features-list">
                    <!-- Features will be added here dynamically -->
                </div>
            </div>
            
            <!-- Documentation -->
            <div class="panel">
                <div class="section-title">Documentation</div>
                <textarea id="documentation" placeholder="Enter project documentation here..."></textarea>
                <div style="display: flex; justify-content: flex-end; margin-top: 10px;">
                    <button id="save-documentation" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        Save
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Create Project Modal -->
    <div id="create-project-modal" class="modal-backdrop">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Create New Project</div>
                <button class="modal-close">&times;</button>
            </div>
            <div class="form-row">
                <label class="form-label">Project Name</label>
                <input type="text" id="new-project-name" placeholder="Enter project name">
            </div>
            <div class="form-actions">
                <button id="cancel-create-project" class="btn btn-secondary">Cancel</button>
                <button id="confirm-create-project" class="btn btn-primary">Create Project</button>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>
    
    <script>
        // Project data structure
        let currentProject = null;
        
        // DOM Elements
        const importBtn = document.getElementById('import-btn');
        const importFile = document.getElementById('import-file');
        const exportBtn = document.getElementById('export-btn');
        const newProjectBtn = document.getElementById('new-project-btn');
        const noProject = document.getElementById('no-project');
        const projectContainer = document.getElementById('project-container');
        
        // Project Info Elements
        const projectName = document.getElementById('project-name');
        const createdDate = document.getElementById('created-date');
        const modifiedDate = document.getElementById('modified-date');
        const progressValue = document.getElementById('progress-value');
        const progressFill = document.getElementById('progress-fill');
        const progressInput = document.getElementById('progress-input');
        const decreaseProgress = document.getElementById('decrease-progress');
        const increaseProgress = document.getElementById('increase-progress');
        const updateProgress = document.getElementById('update-progress');
        
        // Members Elements
        const membersList = document.getElementById('members-list');
        const addMemberToggle = document.getElementById('add-member-toggle');
        const addMemberForm = document.getElementById('add-member-form');
        const newMemberName = document.getElementById('new-member-name');
        const newMemberRole = document.getElementById('new-member-role');
        const cancelAddMember = document.getElementById('cancel-add-member');
        const confirmAddMember = document.getElementById('confirm-add-member');
        
        // Features Elements
        const featuresList = document.getElementById('features-list');
        const addFeatureToggle = document.getElementById('add-feature-toggle');
        const addFeatureForm = document.getElementById('add-feature-form');
        const newFeatureTitle = document.getElementById('new-feature-title');
        const newFeatureDesc = document.getElementById('new-feature-desc');
        const cancelAddFeature = document.getElementById('cancel-add-feature');
        const confirmAddFeature = document.getElementById('confirm-add-feature');
        
        // Documentation Elements
        const documentation = document.getElementById('documentation');
        const saveDocumentation = document.getElementById('save-documentation');
        
        // Modal Elements
        const createProjectModal = document.getElementById('create-project-modal');
        const newProjectName = document.getElementById('new-project-name');
        const cancelCreateProject = document.getElementById('cancel-create-project');
        const confirmCreateProject = document.getElementById('confirm-create-project');
        const modalCloseBtn = document.querySelector('.modal-close');
        
        // Toast
        const toast = document.getElementById('toast');
        
        // Event Listeners for file actions
        importBtn.addEventListener('click', () => importFile.click());
        importFile.addEventListener('change', handleImport);
        exportBtn.addEventListener('click', handleExport);
        newProjectBtn.addEventListener('click', () => createProjectModal.style.display = 'flex');
        
        // Progress controls
        decreaseProgress.addEventListener('click', () => {
            let value = parseInt(progressInput.value) || 0;
            if (value > 0) progressInput.value = value - 1;
        });
        
        increaseProgress.addEventListener('click', () => {
            let value = parseInt(progressInput.value) || 0;
            if (value < 100) progressInput.value = value + 1;
        });
        
        updateProgress.addEventListener('click', () => {
            let value = parseInt(progressInput.value) || 0;
            if (value < 0) value = 0;
            if (value > 100) value = 100;
            
            progressInput.value = value;
            progressValue.textContent = `${value}%`;
            progressFill.style.width = `${value}%`;
            
            if (currentProject) {
                currentProject.progress = value;
                currentProject.modifiedDate = new Date().toISOString();
                updateModifiedDate();
                showToast('Progress updated');
            }
        });
        
        // Member form toggling
        addMemberToggle.addEventListener('click', () => {
            addMemberForm.style.display = addMemberForm.style.display === 'none' ? 'block' : 'none';
            addFeatureForm.style.display = 'none'; // Hide other forms
        });
        
        cancelAddMember.addEventListener('click', () => {
            addMemberForm.style.display = 'none';
            newMemberName.value = '';
            newMemberRole.value = '';
        });
        
        confirmAddMember.addEventListener('click', addNewMember);
        
        // Feature form toggling
        addFeatureToggle.addEventListener('click', () => {
            addFeatureForm.style.display = addFeatureForm.style.display === 'none' ? 'block' : 'none';
            addMemberForm.style.display = 'none'; // Hide other forms
        });
        
        cancelAddFeature.addEventListener('click', () => {
            addFeatureForm.style.display = 'none';
            newFeatureTitle.value = '';
            newFeatureDesc.value = '';
        });
        
        confirmAddFeature.addEventListener('click', addNewFeature);
        
        // Documentation save
        saveDocumentation.addEventListener('click', () => {
            if (currentProject) {
                currentProject.documentation = documentation.value;
                currentProject.modifiedDate = new Date().toISOString();
                updateModifiedDate();
                showToast('Documentation saved');
            }
        });
        
        // Project name change
        projectName.addEventListener('blur', () => {
            if (currentProject) {
                currentProject.name = projectName.value;
                currentProject.modifiedDate = new Date().toISOString();
                updateModifiedDate();
            }
        });
        
        // Modal events
        cancelCreateProject.addEventListener('click', () => {
            createProjectModal.style.display = 'none';
            newProjectName.value = '';
        });
        
        modalCloseBtn.addEventListener('click', () => {
            createProjectModal.style.display = 'none';
        });
        
        confirmCreateProject.addEventListener('click', createNewProject);
        
        // Import Project
        function handleImport(e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = (event) => {
                try {
                    const projectData = JSON.parse(event.target.result);
                    loadProject(projectData);
                    showToast('Project imported successfully');
                } catch (error) {
                    showToast('Error importing project. Invalid JSON.');
                    console.error('Import error:', error);
                }
            };
            reader.readAsText(file);
        }
        
        // Export Project
        function handleExport() {
            if (!currentProject) return;
            
            // Create a JSON file to download
            const dataStr = JSON.stringify(currentProject, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            // Create a link and trigger download
            const exportName = `${currentProject.name.replace(/\s+/g, '-').toLowerCase()}.json`;
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportName);
            linkElement.click();
            
            showToast('Project exported successfully');
        }
        
        // Create New Project
        function createNewProject() {
            const name = newProjectName.value.trim();
            if (!name) {
                showToast('Please enter a project name');
                return;
            }
            
            const now = new Date().toISOString();
            currentProject = {
                name: name,
                createdDate: now,
                modifiedDate: now,
                progress: 0,
                members: [],
                features: [],
                documentation: ""
            };
            
            loadProject(currentProject);
            createProjectModal.style.display = 'none';
            newProjectName.value = '';
            showToast('New project created');
        }
        
        // Load Project
        function loadProject(project) {
            currentProject = project;
            
            // Show project container
            noProject.style.display = 'none';
            projectContainer.style.display = 'block';
            exportBtn.disabled = false;
            
            // Update UI with project data
            projectName.value = project.name || '';
            
            // Format dates for display
            updateCreatedDate();
            updateModifiedDate();
            
            // Update progress
            const progress = project.progress || 0;
            progressValue.textContent = `${progress}%`;
            progressFill.style.width = `${progress}%`;
            progressInput.value = progress;
            
            // Load members
            renderMembers();
            
            // Load features
            renderFeatures();
            
            // Load documentation
            documentation.value = project.documentation || '';
        }
        
        // Add New Member
        function addNewMember() {
            const name = newMemberName.value.trim();
            const role = newMemberRole.value.trim();
            
            if (!name) {
                showToast('Please enter member name');
                return;
            }
            
            if (!currentProject) return;
            
            // Add member to project
            if (!currentProject.members) currentProject.members = [];
            
            const newMember = {
                id: Date.now().toString(),
                name: name,
                role: role || 'Team Member'
            };
            
            currentProject.members.push(newMember);
            currentProject.modifiedDate = new Date().toISOString();
            updateModifiedDate();
            
            // Reset form and update UI
            newMemberName.value = '';
            newMemberRole.value = '';
            addMemberForm.style.display = 'none';
            
            renderMembers();
            showToast('Member added successfully');
        }
        
        // Add New Feature
        function addNewFeature() {
            const title = newFeatureTitle.value.trim();
            const desc = newFeatureDesc.value.trim();
            
            if (!title) {
                showToast('Please enter feature title');
                return;
            }
            
            if (!currentProject) return;
            
            // Add feature to project
            if (!currentProject.features) currentProject.features = [];
            
            const newFeature = {
                id: Date.now().toString(),
                title: title,
                description: desc || ''
            };
            
            currentProject.features.push(newFeature);
            currentProject.modifiedDate = new Date().toISOString();
            updateModifiedDate();
            
            // Reset form and update UI
            newFeatureTitle.value = '';
            newFeatureDesc.value = '';
            addFeatureForm.style.display = 'none';
            
            renderFeatures();
            showToast('Feature added successfully');
        }
        
        // Delete Member
        function deleteMember(id) {
            if (!currentProject || !currentProject.members) return;
            
            currentProject.members = currentProject.members.filter(member => member.id !== id);
            currentProject.modifiedDate = new Date().toISOString();
            updateModifiedDate();
            
            renderMembers();
            showToast('Member removed');
        }
        
        // Delete Feature
        function deleteFeature(id) {
            if (!currentProject || !currentProject.features) return;
            
            currentProject.features = currentProject.features.filter(feature => feature.id !== id);
            currentProject.modifiedDate = new Date().toISOString();
            updateModifiedDate();
            
            renderFeatures();
            showToast('Feature removed');
        }
        
        // Render Members
        function renderMembers() {
            membersList.innerHTML = '';
            
            if (!currentProject || !currentProject.members || currentProject.members.length === 0) {
                membersList.innerHTML = '<p style="padding: 15px; text-align: center; color: #666;">No members added yet</p>';
                return;
            }
            
            currentProject.members.forEach(member => {
                const memberEl = document.createElement('div');
                memberEl.className = 'member-item';
                
                // Get initials for avatar
                const initials = member.name
                    .split(' ')
                    .map(n => n[0])
                    .join('')
                    .toUpperCase()
                    .substring(0, 2);
                
                memberEl.innerHTML = `
                    <div class="member-avatar">${initials}</div>
                    <div class="member-info">
                        <div class="member-name">${member.name}</div>
                        <div class="member-role">${member.role}</div>
                    </div>
                    <div class="member-actions">
                        <button class="icon-btn delete" onclick="deleteMember('${member.id}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                membersList.appendChild(memberEl);
            });
        }
        
        // Render Features
        function renderFeatures() {
            featuresList.innerHTML = '';
            
            if (!currentProject || !currentProject.features || currentProject.features.length === 0) {
                featuresList.innerHTML = '<p style="padding: 15px; text-align: center; color: #666;">No features added yet</p>';
                return;
            }
            
            currentProject.features.forEach(feature => {
                const featureEl = document.createElement('div');
                featureEl.className = 'feature-item';
                
                featureEl.innerHTML = `
                    <div class="feature-header">
                        <div class="feature-title">${feature.title}</div>
                        <button class="icon-btn delete" onclick="deleteFeature('${feature.id}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <div class="feature-desc">${feature.description}</div>
                `;
                
                featuresList.appendChild(featureEl);
            });
        }
        
        // Format Date
        function formatDate(dateString) {
            if (!dateString) return '-';
            
            const date = new Date(dateString);
            return date.toLocaleString();
        }
        
        // Update Created Date
        function updateCreatedDate() {
            if (currentProject && currentProject.createdDate) {
                createdDate.textContent = formatDate(currentProject.createdDate);
            } else {
                createdDate.textContent = '-';
            }
        }
        
        // Update Modified Date
        // Update Modified Date
        function updateModifiedDate() {
            if (currentProject && currentProject.modifiedDate) {
                modifiedDate.textContent = formatDate(currentProject.modifiedDate);
            } else {
                modifiedDate.textContent = '-';
            }
        }
        
        // Show Toast Notification
        function showToast(message) {
            toast.textContent = message;
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }
        
        // Make functions available to the global scope for event handlers
        window.deleteMember = deleteMember;
        window.deleteFeature = deleteFeature;
    </script>
</body>
</html>
